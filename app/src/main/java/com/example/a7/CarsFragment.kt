package com.example.a7

import android.os.Bundle
import android.util.Log
import androidx.fragment.app.Fragment
import android.view.LayoutInflater
import android.view.View
import android.view.ViewGroup
import androidx.core.os.bundleOf
import androidx.navigation.fragment.findNavController
import com.example.a7.databinding.FragmentCarsBinding
import java.text.FieldPosition

class CarsFragment : Fragment() {

    private lateinit var binding: FragmentCarsBinding
    private lateinit var carAdapter:CarAdapter
    private lateinit var carList: ArrayList<Car>

    override fun onCreateView(
        inflater: LayoutInflater, container: ViewGroup?,
        savedInstanceState: Bundle?,
    ): View? {
        binding= FragmentCarsBinding.inflate(layoutInflater)
        return binding.root
    }

    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
        super.onViewCreated(view, savedInstanceState)
        loadData()
        carAdapter=CarAdapter(carList,this::onClick)
        binding.rvCars.adapter=carAdapter
    }

    private fun loadData() {
        carList= ArrayList()
        carList.apply {
            add(Car("https://s.aolcdn.com/dims-global/dims3/GLOB/legacy_thumbnail/640x400/quality/80/https://s.aolcdn.com/commerce/autodata/images/USD30MBCCD2B021001.jpg","Mercedes",2023))
            add(Car("https://mysterio.yahoo.com/mysterio/api/33FFBAAA11F473A3328F7C51462ABF8D7613FF062B34DB0AE6E75B29DE45DEB3/autoblog/resizefill_w660_h372;quality_80;format_webp;cc_31536000;/https://s.aolcdn.com/commerce/autodata/images/USD10TOC021A021001.jpg","Toyota Camry",2020))
            add(Car("https://cars.usnews.com/static/images/Auto/izmo/330900/2012_ford_mustang_angularfront.jpg","Mustang",2019))
            add(Car("data:image/jpeg;base64,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","Porsche",2020))
            add(Car("https://wallpaperaccess.com/full/271396.jpg","BMW",2020))
            add(Car("https://cdni.autocarindia.com/Utils/ImageResizer.ashx?n=https://cdni.autocarindia.com/ExtraImages/20230104035651_Kia_sorento_SUV.jpg&w=700&q=90&c=1","Kia",2021))
            add(Car("https://mysterio.yahoo.com/mysterio/api/EAAE5F02C808C1A5A55F27F9DF18FEA97073510D2139CFB89E6EA558A92F098B/autoblog/resizefill_w660_h372;quality_80;format_webp;cc_31536000;/https://s.aolcdn.com/commerce/autodata/images/USD20TSS021B021001_2.jpg","Tesla",2023))
            add(Car("https://mysterio.yahoo.com/mysterio/api/FCEB6775B6BCEBDC962EDFD5A08567FFC84265820BD1200933ACB49199974EE3/autoblog/resizefill_w660_h372;quality_80;format_webp;cc_31536000;/https://s.aolcdn.com/commerce/autodata/images/USC80HYC031F021001.jpg","Hyundai",2022))
            add(Car("https://images.hgmsites.net/lrg/2021-honda-accord-ex-sedan-angular-front-exterior-view_100778434_l.jpg","Honda accord",2019))
        }
    }
    private fun onClick(position: Int){
        findNavController().navigate(R.id.infoFragment, bundleOf("key" to carList[position]))

    }


}